<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: CuckooFilter</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: CuckooFilter</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>CuckooFilter<span class="signature">(size, fLength, bucketSize, maxKicks<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><p>Cuckoo filters improve on Bloom filters by supporting deletion, limited counting,
and bounded False positive rate with similar storage efficiency as a standard Bloom filter.</p>
<p>Reference: Fan, B., Andersen, D. G., Kaminsky, M., &amp; Mitzenmacher, M. D. (2014, December). Cuckoo filter: Practically better than bloom.
In Proceedings of the 10th ACM International on Conference on emerging Networking Experiments and Technologies (pp. 75-88). ACM.</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="CuckooFilter"><span class="type-signature"></span>new CuckooFilter<span class="signature">(size, fLength, bucketSize, maxKicks<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Constructor</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>size</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                    15
                
                </td>
            

            <td class="description last"><p>The filter size</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fLength</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                    3
                
                </td>
            

            <td class="description last"><p>The length of the fingerprints</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>bucketSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                    2
                
                </td>
            

            <td class="description last"><p>The size of the buckets in the filter</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxKicks</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    500
                
                </td>
            

            <td class="description last"><p>(optional) The max number of kicks when resolving collision at insertion, default to 1</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Thomas Minier &amp; Arnaud Grall</li>
        </ul>
    </dd>
    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cuckoo-filter.js.html">cuckoo-filter.js</a>, <a href="cuckoo-filter.js.html#line64">line 64</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://www.cs.cmu.edu/~dga/papers/cuckoo-conext2014.pdf">https://www.cs.cmu.edu/~dga/papers/cuckoo-conext2014.pdf</a> for more details about Cuckoo filters</li>
        </ul>
    </dd>
    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const CuckooFilter = require('bloom-filters').CuckooFilter;

// create a Cuckoo Filter with size = 15, fingerprint length = 3 and bucket size = 2
const filter = new CuckooFilter(15, 3, 2);
filter.add('alice');
filter.add('bob');

// lookup for some data
console.log(filter.has('bob')); // output: true
console.log(filter.has('daniel')); // output: false

// remove something
filter.remove('bob');
console.log(filter.has('bob')); // output: false</code></pre>



    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li><a href="Exportable.html">Exportable</a></li>
    </ul>


    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="bucketSize"><span class="type-signature"></span>bucketSize<span class="type-signature"></span></h4>




<div class="description">
    <p>Get the size of the buckets in the filter</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cuckoo-filter.js.html">cuckoo-filter.js</a>, <a href="cuckoo-filter.js.html#line127">line 127</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="fingerprintLength"><span class="type-signature"></span>fingerprintLength<span class="type-signature"></span></h4>




<div class="description">
    <p>Get the length of the fingerprints in the filter</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cuckoo-filter.js.html">cuckoo-filter.js</a>, <a href="cuckoo-filter.js.html#line119">line 119</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="fullSize"><span class="type-signature"></span>fullSize<span class="type-signature"></span></h4>




<div class="description">
    <p>Return the full size, aka the total number of cells</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cuckoo-filter.js.html">cuckoo-filter.js</a>, <a href="cuckoo-filter.js.html#line95">line 95</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="length"><span class="type-signature"></span>length<span class="type-signature"></span></h4>




<div class="description">
    <p>Get the filter length, i.e. the current number of elements in the filter</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cuckoo-filter.js.html">cuckoo-filter.js</a>, <a href="cuckoo-filter.js.html#line111">line 111</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="maxKicks"><span class="type-signature"></span>maxKicks<span class="type-signature"></span></h4>




<div class="description">
    <p>Get the max number of kicks when resolving collision at insertion</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cuckoo-filter.js.html">cuckoo-filter.js</a>, <a href="cuckoo-filter.js.html#line135">line 135</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="seed"><span class="type-signature"></span>seed<span class="type-signature"></span></h4>




<div class="description">
    <p>Return the seed used in this structure</p>
</div>







<dl class="details">

    

    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="Exportable.html#seed">Exportable#seed</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="exportable.js.html">exportable.js</a>, <a href="exportable.js.html#line45">line 45</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="size"><span class="type-signature"></span>size<span class="type-signature"></span></h4>




<div class="description">
    <p>Get the filter size</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cuckoo-filter.js.html">cuckoo-filter.js</a>, <a href="cuckoo-filter.js.html#line103">line 103</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id=".create"><span class="type-signature">(static) </span>create<span class="signature">(items, rate, bucketSize<span class="signature-attributes">opt</span>, maxKicks<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="CuckooFilter.html">CuckooFilter</a>}</span></h4>
    

    



<div class="description">
    <p>Return a new optimal CuckooFilter given the number of maximum elements to store and the error rate desired and the bucket size</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>items</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The number of items to insert</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rate</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                    0.001
                
                </td>
            

            <td class="description last"><p>The desired error rate</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>bucketSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    2
                
                </td>
            

            <td class="description last"><p>The number of buckets desired per cell</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxKicks</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    10
                
                </td>
            

            <td class="description last"><p>the number of kicks done when a collision occurs</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cuckoo-filter.js.html">cuckoo-filter.js</a>, <a href="cuckoo-filter.js.html#line82">line 82</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The CuckoFilter constructed for 'items' items with a provided error rate.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="CuckooFilter.html">CuckooFilter</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="_computeHashTableLoad"><span class="type-signature"></span>_computeHashTableLoad<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Return the load of this filter</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cuckoo-filter.js.html">cuckoo-filter.js</a>, <a href="cuckoo-filter.js.html#line265">line 265</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>load: is the load, size is the number of entries, free is the free number of entries, used is the number of entry used</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="add"><span class="type-signature"></span>add<span class="signature">(element)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>element</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last"><p>The element to add</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cuckoo-filter.js.html">cuckoo-filter.js</a>, <a href="cuckoo-filter.js.html#line149">line 149</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>do the recovery if return false or throw error because we altered values
Add an element to the filter, if false is returned, it means that the filter is considered as full.</li>
        </ul>
    </dd>
    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>True if the insertion is a success, False if the filter is full</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const filter = new CuckooFilter(15, 3, 2);
filter.add('alice');
filter.add('bob');</code></pre>



        
            

    

    
    <h4 class="name" id="equals"><span class="type-signature"></span>equals<span class="signature">(filter)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    <p>Check if another cuckoo filter is equal to this one</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="CuckooFilter.html">CuckooFilter</a></span>


            
            </td>

            

            

            <td class="description last"><p>the cuckoo filter to compare to this one</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cuckoo-filter.js.html">cuckoo-filter.js</a>, <a href="cuckoo-filter.js.html#line305">line 305</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>True if they are equal, false otherwise</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="has"><span class="type-signature"></span>has<span class="signature">(element)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    <p>Test an element for membership</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>element</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last"><p>The element to look for in the filter</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cuckoo-filter.js.html">cuckoo-filter.js</a>, <a href="cuckoo-filter.js.html#line233">line 233</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>False if the element is definitively not in the filter, True is the element might be in the filter</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const filter = new CuckooFilter(15, 3, 2);
filter.add('alice');

console.log(filter.has('alice')); // output: true
console.log(filter.has('bob')); // output: false</code></pre>



        
            

    

    
    <h4 class="name" id="rate"><span class="type-signature"></span>rate<span class="signature">()</span><span class="type-signature"> &rarr; {Number}</span></h4>
    

    



<div class="description">
    <p>Return the false positive rate for this cuckoo filter</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cuckoo-filter.js.html">cuckoo-filter.js</a>, <a href="cuckoo-filter.js.html#line255">line 255</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The false positive rate</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="remove"><span class="type-signature"></span>remove<span class="signature">(element)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    <p>Remove an element from the filter</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>element</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last"><p>The element to remove</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="cuckoo-filter.js.html">cuckoo-filter.js</a>, <a href="cuckoo-filter.js.html#line208">line 208</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>True if the element has been removed from the filter, False if it wasn't in the filter</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const filter = new CuckooFilter(15, 3, 2);
filter.add('alice');
filter.add('bob');

// remove an element
filter.remove('bob');</code></pre>



        
            

    

    
    <h4 class="name" id="saveAsJSON"><span class="type-signature"></span>saveAsJSON<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Save as a JSON object</p>
</div>













<dl class="details">

    

    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="Exportable.html#saveAsJSON">Exportable#saveAsJSON</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="exportable.js.html">exportable.js</a>, <a href="exportable.js.html#line74">line 74</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The exported JSON object</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BloomFilter.html">BloomFilter</a></li><li><a href="Cell.html">Cell</a></li><li><a href="CountingBloomFilter.html">CountingBloomFilter</a></li><li><a href="CountMinSketch.html">CountMinSketch</a></li><li><a href="CuckooFilter.html">CuckooFilter</a></li><li><a href="Exportable.html">Exportable</a></li><li><a href="InvertibleBloomFilter.html">InvertibleBloomFilter</a></li><li><a href="PartitionedBloomFilter.html">PartitionedBloomFilter</a></li></ul><h3>Global</h3><ul><li><a href="global.html#allInOneHashTwice">allInOneHashTwice</a></li><li><a href="global.html#cloneField">cloneField</a></li><li><a href="global.html#getDefaultSeed">getDefaultSeed</a></li><li><a href="global.html#getDistinctIndices">getDistinctIndices</a></li><li><a href="global.html#getIndices">getIndices</a></li><li><a href="global.html#hashAsInt">hashAsInt</a></li><li><a href="global.html#hashAsString">hashAsString</a></li><li><a href="global.html#hashIntAndString">hashIntAndString</a></li><li><a href="global.html#hex2bin">hex2bin</a></li><li><a href="global.html#isEmptyBuffer">isEmptyBuffer</a></li><li><a href="global.html#power2">power2</a></li><li><a href="global.html#xorBuffer">xorBuffer</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Sat Dec 28 2019 11:26:14 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>